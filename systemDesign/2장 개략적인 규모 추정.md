# 2장. 개략적인 규모 추정

보편적으로 통용되는 성능 수치상에서 사고 실험을 행하여 추정치를 계산하는 행위

어떤 설계가 요구사항에 부합할 것인지 보기 위함

규모 확장성을 표현하는 데 필요한 기본기에 능숙해야 하며, 2의 제곱수나 응답지연 값, 가용성에 관계된 수치들을 이해하고 있어야 함



근사치를 활용한 계산 : 면접장에서 99987 / 9.1 등의 계산은 지양하고 100,000 / 10으로 간소화 하여 계산하라

가정은 나중에 살펴볼 수 있도록 적어 두라

단위를 붙이라. 5KB, 5MB 등을 적어 두어라

개략적 규모 추정 문제는 QPS, 서버 수 등을 추정하는데, 면접에 임하기 전에 이런 값을 계산하는 연습을 미리 하자

 

### 1) 2의 제곱수

분산 시스템에서 다루는 데이터 양의 제대로 된 계산 결괄르 얻으려면 데이터 볼륨의 단위를 2의 제곱수로 표현하면 어떻게 되는지 알아야 함

| 2의 제곱수 | 근사치    | 축약 |
| ---------- | --------- | ---- |
| 2^10       | 1,000     | 1KB  |
| 2^20       | 1,000,000 | 1MB  |
| 2^30       | 10억      | 1GB  |
| 2^40       | 1조       | 1TB  |
| 2^50       | 1000조    | 1PB  |



### 2) 응답지연 값

| 연산명                     | 시간      |
| -------------------------- | --------- |
| L1 캐시 참조               | 0.5ns     |
| L2 캐시 참조               | 7 ns      |
| 주 메모리 참조             | 100 ns    |
| 메모리에서 1MB 순차 read   | 250,000ns |
| 디스크 탐색                | 10 ms     |
| 네트워크에서 1MB 순차 read | 10 ms     |
| 디스크에서 1MB 순차 read   | 30 ms     |

디스크는 메모리보다 느리다

디스크 탐색은 가능한 피하라

데이터를 인터넷으로 전송하기 전에 가능하면 압축해라



### 3) 가용성에 관계된 수치들

고가용성 (HA) : 시스템이 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력

SLA : 서비스 사업자와 고객 사이에 맺어진 합의



### 4) QPS

Query Per Second의 약자로, 검색 엔진이나 데이터베이스와 같은 정보 검색 시스템이 1초 동안 받는 검색 트래픽의 양을 측정한 것